(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{182:function(e,t,a){e.exports=a(252)},187:function(e,t,a){},206:function(e,t,a){},251:function(e,t,a){},252:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),s=(a(187),a(7)),l="login",i="logout",u="user_loading",m="user_loading_done",p=a(30),d=a(94),f=a(95),g=new(function(){function e(){Object(d.a)(this,e)}return Object(f.a)(e,[{key:"setToken",value:function(e){localStorage.setItem("betaseries_token",e)}},{key:"removeToken",value:function(){localStorage.removeItem("betaseries_token")}},{key:"getToken",value:function(){return localStorage.getItem("betaseries_token")}}]),e}());Object.freeze(g);var E=function(e,t){switch(t.type){case l:var a=t.payload,n=a.login,r=a.access_token,c=a.avatar,o=a.locale,s=a.id;return g.setToken(r),Object(p.a)(Object(p.a)({},e),{},{user:{login:n,avatar:c,locale:o,id:s},access_token:r,user_loading:!1});case i:return g.removeToken(),Object(p.a)(Object(p.a)({},e),{},{user:!1,access_token:null});case u:return Object(p.a)(Object(p.a)({},e),{},{user_loading:!0});case m:return Object(p.a)(Object(p.a)({},e),{},{user_loading:!1});default:return e}},b={user:!1,access_token:null,user_loading:!0},h=Object(n.createContext)(b),v=function(e){var t=e.children,a=Object(n.useReducer)(E,b);return r.a.createElement(h.Provider,{value:a},t)},x=function(){return Object(n.useContext)(h)},w=a(121),j=a.n(w);j.a.interceptors.response.use((function(e){return e}),(function(e){return e.response?e.response:null}));var O="https://api.betaseries.com",y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={"X-BetaSeries-Key":"cb505d0ba413"};return e&&(t.Authorization="Bearer ".concat(e)),t},k=new(function(){function e(){Object(d.a)(this,e)}return Object(f.a)(e,[{key:"login",value:function(e){return j.a.post("".concat(O,"/members/auth?login=").concat(e.login,"&password=").concat(e.password),{},{headers:y()})}},{key:"getAllShows",value:function(e){return j.a.get("".concat(O,"/shows/list?limit=").concat(e.limit,"&start=").concat(e.start),{headers:y()})}},{key:"getAllShowsWith",value:function(e){return j.a.get("".concat(O,"/shows/list?limit=").concat(e.limit,"&start=").concat(e.start,"&starting=").concat(e.title),{headers:y()})}},{key:"getAllMovies",value:function(){return j.a.get("".concat(O,"/movies/list"),{headers:y()})}},{key:"IsTokenActive",value:function(e){return j.a.get("".concat(O,"/members/is_active"),{headers:y(e)})}},{key:"getUserInfo",value:function(e){return j.a.get("".concat(O,"/members/infos"),{headers:y(e)})}},{key:"getUserInfoById",value:function(e){return j.a.get("".concat(O,"/members/infos?id=").concat(e),{headers:y()})}},{key:"memberDestroyToken",value:function(e){return j.a.post("".concat(O,"/members/destroy"),{},{headers:y(e)})}},{key:"friendList",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return j.a.get("".concat(O,"/friends/list"),{params:{id:e,blocked:a},headers:y(t)})}},{key:"friendListBlocked",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return j.a.get("".concat(O,"/friends/list"),{params:{blocked:t},headers:y(e)})}},{key:"friendsReceived",value:function(e){return j.a.get("".concat(O,"/friends/requests"),{params:{received:!0},headers:y(e)})}},{key:"blockFriend",value:function(e,t){return j.a.post("".concat(O,"/friends/block"),{id:e},{headers:y(t)})}},{key:"deblockFriend",value:function(e,t){return j.a.delete("".concat(O,"/friends/block"),{params:{id:e},headers:y(t)})}},{key:"addFriend",value:function(e,t){return j.a.post("".concat(O,"/friends/friend"),{id:e},{headers:y(t)})}},{key:"deleteFriend",value:function(e,t){return j.a.delete("".concat(O,"/friends/friend"),{params:{id:e},headers:y(t)})}},{key:"findMembers",value:function(e){return j.a.get("".concat(O,"/members/search?login=").concat(e),{headers:y()})}},{key:"getShowsToDiscover",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return j.a.get("".concat(O,"/shows/discover?limit=30"),{headers:y(e)})}},{key:"getMoviesToDiscover",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return j.a.get("".concat(O,"/movies/discover"),{params:{limit:42,type:"popular"},headers:y(e)})}},{key:"getMovieDetails",value:function(e){return j.a.get("".concat(O,"/movies/movie"),{params:{id:e},headers:y()})}},{key:"addShowToUser",value:function(e,t){return j.a.post("".concat(O,"/shows/show"),{id:e},{headers:y(t)})}},{key:"removeShowToUser",value:function(e,t){return j.a.delete("".concat(O,"/shows/show"),{params:{id:e},headers:y(t)})}},{key:"getShowDetails",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return j.a.get("".concat(O,"/shows/display"),{params:{id:e},headers:y(t)})}},{key:"archiveShow",value:function(e,t){return j.a.post("".concat(O,"/shows/archive"),{id:e},{headers:y(t)})}},{key:"unarchiveShow",value:function(e,t){return j.a.delete("".concat(O,"/shows/archive"),{params:{id:e},headers:y(t)})}},{key:"getShowEpisodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return j.a.get("".concat(O,"/shows/episodes"),{params:{id:e},headers:y(t)})}},{key:"getEpisodeDetails",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return j.a.get("".concat(O,"/episodes/display"),{params:{id:e},headers:y(t)})}},{key:"addEpisodeWatched",value:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return j.a.post("".concat(O,"/episodes/watched"),{id:e,bulk:a},{headers:y(t)})}},{key:"removeEpisodeWatched",value:function(e,t){return j.a.delete("".concat(O,"/episodes/watched"),{params:{id:e},headers:y(t)})}},{key:"getEpisodeComments",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return j.a.get("".concat(O,"/comments/comments"),{params:{id:e,type:"episode",order:"desc"},headers:y(t)})}},{key:"commentEpisode",value:function(e,t,a){return j.a.post("".concat(O,"/comments/comment"),{id:e,type:"episode",text:t},{headers:y(a)})}}]),e}());Object.freeze(k);var S=a(25),N=a(19),C=a(151),I=a(307),W=a(308),T=a(106),_=a(302),F=a(333),B=a(309),P=a(12),A=a.n(P),R=a(18),D=a(331),z=a(298),M=a(299),L=a(326),U=a(301),G=a(303),q=(a(206),a(207)),V=Object(C.a)((function(e){return{wrapper:{margin:e.spacing(1),position:"relative"},fabProgress:{color:e.primary,position:"absolute",top:-6,left:-6,zIndex:1},buttonProgress:{color:e.primary,position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function X(e){var t=e.isOpen,a=e.storeDispatch,c=e.handleClose,o=V(),i=Object(n.useState)(""),u=Object(s.a)(i,2),m=u[0],p=u[1],d=Object(n.useState)(""),f=Object(s.a)(d,2),g=f[0],E=f[1],b=Object(n.useState)(!1),h=Object(s.a)(b,2),v=h[0],x=h[1],w=Object(n.useState)(!1),j=Object(s.a)(w,2),O=j[0],y=j[1],S=function(){var e=Object(R.a)(A.a.mark((function e(){var t,n,r,o,s,i,u,p,d;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(!0),t={},!m||!g){e.next=23;break}return n={login:m,password:q(g)},e.next=6,k.login(n);case 6:if(200!==(r=e.sent).status){e.next=18;break}return e.next=10,k.getUserInfo(r.data.token);case 10:o=e.sent,s=o.data.member,i=s.login,u=s.avatar,p=s.locale,d=s.id,a({type:l,payload:{login:i,access_token:r.data.token,avatar:u,locale:p,id:d}}),c(),x(t),y(!1),e.next=21;break;case 18:t.error="Login ou mot de passe incorrect !",x(t),y(!1);case 21:e.next=25;break;case 23:x({error:"Login ou mot de passe manquant."}),y(!1);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){v&&x(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{open:t,onClose:function(){c(),x({})},maxWidth:"xs","aria-labelledby":"form-dialog-title"},r.a.createElement(z.a,{id:"form-dialog-title",style:{textAlign:"center",color:"#3f51b5"}},"Login"),r.a.createElement("div",{className:"error"},v.error),r.a.createElement(M.a,null,r.a.createElement("form",{style:{padding:"0px 20px"}},r.a.createElement(L.a,{autoFocus:!0,margin:"dense",id:"name",label:"Username",type:"text",fullWidth:!0,onChange:function(e){p(e.target.value),N()}}),r.a.createElement(L.a,{margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0,onChange:function(e){E(e.target.value),N()}}),r.a.createElement("div",{className:o.wrapper},O?r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{size:24,className:o.buttonProgress}),r.a.createElement(_.a,{variant:"contained",disabled:!0,style:{margin:"35px auto 20px auto",display:"block"}},"Submit")):r.a.createElement(_.a,{type:"submit",onClick:S,variant:"contained",color:"primary",style:{margin:"35px auto 10px auto",display:"block"}},"Envoyer")))),r.a.createElement(G.a,null,r.a.createElement(_.a,{onClick:function(){c(),N()},color:"primary"},"Cancel"))))}var H=a(164),J=a(296),Y=a(332);function $(e){var t=e.anchorEl,a=e.setOpenMenu,n=e.openMenu,c=e.storeDispatch,o=e.store,s=Object(N.f)(),l=function(){a(!1)},u=function(e){l(),s.push(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{id:"simple-menu",anchorEl:t,keepMounted:!0,PaperProps:{style:{transform:"translateY(".concat(null===t||void 0===t?void 0:t.offsetHeight,"px)"),border:"solid rgba(0, 0, 0, 0.24) 1px"},elevation:1},TransitionComponent:J.a,open:n,onClose:l},r.a.createElement(Y.a,{onClick:function(){return u("/profil/".concat(o.user.id))}},"Profil"),r.a.createElement(Y.a,{onClick:function(){return u("/profil/".concat(o.user.id,"/friends"))}},"Mes amis"),r.a.createElement(Y.a,{onClick:function(){return u("/friends/".concat(o.user.id))}},"Param\xe8tres"),r.a.createElement(Y.a,{onClick:function(){c({type:i}),l()}},"Se d\xe9connecter")))}var K=a(157),Q=a.n(K),Z=a(69),ee=a(156),te=r.a.memo((function(){var e=Object(N.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.NavMenu,{gutter:1,useStyles:ee.useFloatNavigationMenuStyles,style:{fontSize:"1.5rem"}},r.a.createElement(Z.NavItem,{as:S.b,to:"/",active:"/"===e.pathname},"Accueil"),r.a.createElement(Z.NavItem,{as:S.b,to:"/shows",active:"/shows"===e.pathname},"S\xe9ries"),r.a.createElement(Z.NavItem,{as:S.b,to:"/movies",active:"/movies"===e.pathname},"Films"),r.a.createElement(Z.NavItem,null,"Ma liste")))})),ae=Object(C.a)((function(e){return{root:{flexGrow:1,paddingTop:"8px",marginBottom:"45px"},menuButton:{marginRight:e.spacing(2)},appBar:{backgroundColor:"white"},title:{flexGrow:1,fontWeight:600},textleft:{textAlign:"left"}}}));function ne(){var e=ae(),t=x(),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(s.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(!1),d=Object(s.a)(p,2),f=d[0],g=d[1],E=Object(n.useRef)(null);return r.a.createElement("div",{className:e.root},r.a.createElement(I.a,{className:e.appBar,position:"static",elevation:0},r.a.createElement(W.a,null,r.a.createElement(T.a,{variant:"h4",color:"primary",className:"".concat(e.title," ").concat(e.textleft)},r.a.createElement(S.b,{to:"/",style:{color:"inherit",textDecoration:"inherit"}},"Nentai")),r.a.createElement("div",{style:{position:"absolute",left:"50%",transform:"translateX(-50%)"}},r.a.createElement(te,null)),r.a.createElement("div",{style:{display:"flex",flexGrow:1,justifyContent:"flex-end"}},c.user_loading?r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{variant:"text",width:"13%",style:{marginRight:"10px"}}),r.a.createElement(B.a,{variant:"circle",width:40,height:40})):c.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{ref:E,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(){return g(!0)},style:{marginRight:"5px",color:"rgba(0, 0, 0, 0.54)",textTransform:"none",fontSize:"1.2rem"}},c.user.login,r.a.createElement(Q.a,{style:{marginLeft:"3px"}})),r.a.createElement($,{anchorEl:E.current,openMenu:f,setOpenMenu:g,storeDispatch:o,store:c}),r.a.createElement(S.b,{to:"/profil/".concat(c.user.id),style:{margin:"auto 0"}},c.user.avatar?r.a.createElement(F.a,{alt:"profile-pic",src:c.user.avatar}):r.a.createElement(F.a,{alt:"profile-pic"},c.user.login.charAt(0)))):r.a.createElement(_.a,{onClick:function(){m(!0)},style:{color:"rgba(0, 0, 0, 0.54)"}},"S'identifier")))),r.a.createElement(X,{isOpen:u,handleClose:function(){m(!1)},storeDispatch:o}))}function re(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1],o=function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getAllMovies();case 2:200===(t=e.sent).status?c(t.data.movies):console.log(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){o()}),[]),r.a.createElement(r.a.Fragment,null,a&&a.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Title: ",e.title),r.a.createElement("br",null))})))}var ce=a(317),oe=a(313),se=a(120),le=a(107),ie=a.n(le),ue=a(312),me=a(315),pe=a(316),de=a(300),fe=a(45),ge=a(128),Ee=a(158),be=a(310),he=a(108),ve=a(63),xe=a.n(ve),we=a(64),je=a.n(we),Oe=Object(C.a)((function(){return{parent:{display:"flex",justifyContent:"space-between",marginTop:"auto",width:"95%",position:"absolute",bottom:6},fabProgress:{color:"white",position:"absolute",top:0,left:0,zIndex:1,marginRight:"auto",marginLeft:"auto"},btnWrapper:{position:"relative",transform:"scale(0.7)"}}})),ye=r.a.memo((function(e){var t=e.handleAddShow,a=e.handleRemoveShow,c=e.setShowDetails,o=e.inUser,l=e.store,i=Object(he.useArrowWhiteButtonStyles)(),u=Oe(),m=Object(n.useState)(!1),p=Object(s.a)(m,2),d=p[0],f=p[1];Object(n.useEffect)((function(){f(!1)}),[o]);return r.a.createElement(se.a,{className:u.parent},r.a.createElement("div",{className:u.btnWrapper},l.user&&r.a.createElement(_.a,{classes:i,onClick:function(){d||(o?(f(!0),a()):(f(!0),t()))}},o?r.a.createElement(xe.a,null):r.a.createElement(je.a,null)),d&&!o&&r.a.createElement(U.a,{size:"100%",className:u.fabProgress})),r.a.createElement("div",{className:u.btnWrapper},r.a.createElement(_.a,{classes:i,onClick:function(){c((function(e){return!e}))}},r.a.createElement(be.a,null))))})),ke=a(311),Se=a(159),Ne=a(314),Ce=a(110),Ie=a.n(Ce),We=a(160),Te=a.n(We),_e=a(111),Fe=a.n(_e),Be=Object(C.a)((function(e){return{bannerTitle:{top:"50%",width:"100%",textAlign:"center",transform:"translateY(-50%)",color:"white",fontFamily:"Montserrat"},bannerBottomLeft:{bottom:"20px",left:"20px",color:"white"},bannerItem:{zIndex:10,position:"absolute",margin:0},bannerBottomText:{color:"white",fontSize:"1.2rem",fontFamily:"Spartan"},bannerImg:{objectFit:"contain",maxWidth:"100%",filter:"brightness(45%)"},bannerBottomRight:{bottom:"20px",right:"20px"},bannerWrapper:{position:"relative"},content:{padding:"15px 0"},tag:{color:"rgba(0, 0, 0, 0.54)"},metaDataRight:{fontSize:"1.1rem"},tagWrapper:{marginBottom:"9px"},dialogActions:{backgroundColor:"rgba(63, 81, 181, 0.04)",justifyContent:"space-between"},parent:{display:"flex"},fabProgress:{color:"black",position:"absolute",top:0,left:0,zIndex:1,marginRight:"auto",marginLeft:"auto"},btnWrapper:{position:"relative",marginRight:"1.5rem"}}})),Pe=r.a.forwardRef((function(e,t){return r.a.createElement(ke.a,Object.assign({direction:"up",ref:t},e))})),Ae=r.a.memo((function(e){var t=e.showDetails,a=e.setShowDetails,c=e.show,o=e.store,l=e.handleAddShow,i=e.handleRemoveShow,u=e.inUser,m=c.id,p=c.title,d=c.images,f=c.seasons,g=c.length,E=c.notes,b=c.creation,h=c.genres,v=c.rating,x=c.episodes,w=c.description,j=Object(N.f)(),O=Be(),y=Object(Se.useArrowDarkButtonStyles)(),S=Be(),C=Object(n.useState)(!1),I=Object(s.a)(C,2),W=I[0],T=I[1],F=Object(n.useState)(!1),B=Object(s.a)(F,2),P=B[0],z=B[1],L=function(){return a((function(e){return!e}))};Object(n.useEffect)((function(){T(!1)}),[u]);var q=function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.archiveShow(m,o.access_token);case 2:t=e.sent,console.log(t),200===t.status&&z(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.unarchiveShow(m,o.access_token);case 2:t=e.sent,console.log(t),200===t.status&&z(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,null,r.a.createElement(ie.a,{fonts:[{font:"Spartan",weights:[300]},{font:"Montserrat",weights:[200,400,700]}]})),r.a.createElement(D.a,{open:t,TransitionComponent:Pe,onClose:L,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",maxWidth:"md"},r.a.createElement("div",{className:O.bannerWrapper},r.a.createElement("h1",{className:"".concat(O.bannerTitle," ").concat(O.bannerItem)},p),r.a.createElement("span",{className:"".concat(O.bannerBottomLeft," ").concat(O.bannerItem," ").concat(O.bannerBottomText)},"Not\xe9 ",E.mean.toFixed(1)," sur 5"),r.a.createElement("span",{className:"".concat(O.bannerItem," ").concat(O.bannerBottomRight," ").concat(O.bannerBottomText)},b),r.a.createElement("img",{className:O.bannerImg,src:d.show,alt:"show-banner"})),r.a.createElement(M.a,null,r.a.createElement("div",{className:O.content},r.a.createElement(oe.a,{container:!0,spacing:5,justify:"space-between"},r.a.createElement(oe.a,{item:!0,xs:12,md:7},r.a.createElement("span",{className:O.tag},"Description"),r.a.createElement("p",{style:{color:"#333",fontSize:"1.2rem"}},w)),r.a.createElement(oe.a,{item:!0,xs:12,md:4},r.a.createElement("div",{className:O.metaDataRight},r.a.createElement("div",{className:O.tagWrapper},r.a.createElement("span",{className:O.tag},"Rating: "),r.a.createElement("span",null," ",v)),r.a.createElement("div",{className:O.tagWrapper},r.a.createElement("span",{className:O.tag},"Nombre de saisons: "),r.a.createElement("span",null," ",f)),r.a.createElement("div",{className:O.tagWrapper},r.a.createElement("span",{className:O.tag},"Nombre total d'\xe9pisodes: "),r.a.createElement("span",null,x)),r.a.createElement("div",{className:O.tagWrapper},r.a.createElement("span",{className:O.tag},"Dur\xe9e d'un \xe9pisode: "),r.a.createElement("span",null," ",g," min")),r.a.createElement("div",{className:O.tagWrapper},r.a.createElement("span",{className:O.tag},"Genres: "),r.a.createElement("span",null," ",Object.values(h).join(", ")))))))),r.a.createElement(G.a,{className:O.dialogActions},r.a.createElement("div",{style:{transform:"scale(0.8)",transformOrigin:"0 50%",marginLeft:"10px"}},r.a.createElement(se.a,{className:S.parent},r.a.createElement("div",{className:S.btnWrapper},o.user&&r.a.createElement(_.a,{classes:y,onClick:function(){W||(u?(T(!0),i()):(T(!0),l()))}},u?r.a.createElement(xe.a,null):r.a.createElement(je.a,null)),W&&!u&&r.a.createElement(U.a,{size:"100%",className:S.fabProgress})),u&&(P?r.a.createElement("div",{className:S.btnWrapper},r.a.createElement(_.a,{classes:y,onClick:V},r.a.createElement(Fe.a,null))):r.a.createElement("div",{className:S.btnWrapper},r.a.createElement(_.a,{classes:y,onClick:function(){P?V():q()}},r.a.createElement(Ie.a,null)))),r.a.createElement("div",{className:S.btnWrapper},r.a.createElement(_.a,{classes:y,onClick:function(){return j.push("/shows/".concat(m))}},r.a.createElement(Te.a,null))))),r.a.createElement("div",{style:{transform:"scale(0.7)"}},r.a.createElement(_.a,{classes:y,onClick:L},r.a.createElement(Ne.a,null))))))})),Re=Object(C.a)((function(){return{card:{borderRadius:"5px",boxShadow:"none",position:"relative",minWidth:200,minHeight:360,"&:after":{content:'""',display:"block",position:"absolute",width:"100%",height:"64%",bottom:0,zIndex:1,background:"linear-gradient(to top, #000, rgba(0,0,0,0))",transition:"height 0.2s ease-in"},"&:hover":{"&:after":{height:"300%",transition:"height 0.9s 0.1s ease-out"},"& $backImg":{transform:"scale(1.06)",transition:"transform 0.5s 0.1s"}}},content:{position:"absolute",zIndex:2,bottom:0,width:"91%"},buttonBox:{},backImg:{transition:"transform 0.4s"}}})),De=r.a.memo((function(e){var t=e.show,a=t.title,c=t.images.poster,o=t.seasons,l=t.id,i=t.notes,u=t.creation,m=t.genres,p=t.rating,d=x(),f=Object(s.a)(d,2),g=f[0],E=(f[1],Object(Ee.useCoverCardMediaStyles)({bgPosition:"top"})),b=Re(),h=Object(n.useState)(!1),v=Object(s.a)(h,2),w=v[0],j=v[1],O=Object(n.useState)(!1),y=Object(s.a)(O,2),S=y[0],N=y[1],C=Object(n.useState)(!1),I=Object(s.a)(C,2),W=I[0],T=I[1],_=Object(n.useRef)(!1),F=Object(n.useCallback)(Object(R.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.addShowToUser(l,g.access_token);case 2:200===e.sent.status&&N(!0);case 4:case"end":return e.stop()}}),e)}))),[]),B=Object(n.useCallback)(Object(R.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.removeShowToUser(l,g.access_token);case 2:200===e.sent.status&&N(!1);case 4:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){!1===_.current&&(_.current=!0)}),[W]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,null,r.a.createElement(ie.a,{fonts:[{font:"Spartan",weights:[300]},{font:"Montserrat",weights:[200,400,700]}]})),_.current&&r.a.createElement(Ae,{showDetails:W,setShowDetails:T,show:t,store:g,inUser:S,handleAddShow:F,handleRemoveShow:B}),r.a.createElement(me.a,{className:b.card,onMouseOver:function(){return j(!0)},onMouseLeave:function(){return j(!1)}},r.a.createElement(pe.a,{classes:E,className:b.backImg,image:c}),r.a.createElement(de.a,Object.assign({in:!w},w?{timeout:400}:{timeout:500}),r.a.createElement(se.a,{py:3,px:2,className:b.content},r.a.createElement(fe.Info,{useStyles:ge.useGalaxyInfoStyles},r.a.createElement(fe.InfoTitle,null,a),r.a.createElement(fe.InfoCaption,null,o," saisons")))),r.a.createElement(de.a,Object.assign({in:w},w?{timeout:600}:{timeout:200}),r.a.createElement(se.a,{py:1,px:1,className:"".concat(b.content," ").concat(b.buttonBox),style:{width:"96%",height:"96%"}},r.a.createElement(fe.Info,{useStyles:ge.useGalaxyInfoStyles},r.a.createElement(fe.InfoTitle,{style:{margin:"0.8rem 0 2rem"}},a),r.a.createElement(fe.InfoSubtitle,null,r.a.createElement("b",null,"Note")," : ",i.mean.toFixed(2)," / 5 "),r.a.createElement(fe.InfoSubtitle,null,r.a.createElement("b",null,"Diffus\xe9 en")," : ",u),r.a.createElement(fe.InfoSubtitle,null,r.a.createElement("b",null,"Rating")," : ",p),r.a.createElement(fe.InfoSubtitle,null,r.a.createElement("b",null,"Genres")," : ",Object.values(m).join(", "))),r.a.createElement(ye,{store:g,handleAddShow:F,handleRemoveShow:B,setShowDetails:T,inUser:S})))))})),ze={limit:20,start:0},Me=Object(C.a)((function(e){return{card:{width:"250px"},center:{textAlign:"center"},textfield:{width:"100%",margin:"20px 0"}}}));function Le(){var e=Me(),t=Object(n.useState)(null),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(s.a)(l,2),u=i[0],m=i[1],d=Object(n.useState)(""),f=Object(s.a)(d,2),g=f[0],E=f[1],b=Object(n.useState)(""),h=Object(s.a)(b,2),v=h[0],x=h[1],w=function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getAllShows(ze);case 2:200===(t=e.sent).status?(console.log(t),o(t.data.shows),m(!1)):console.log(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){w()}),[]),Object(n.useEffect)((function(){var e;return""!=v&&(e=setTimeout((function(){k.getAllShowsWith(Object(p.a)(Object(p.a)({},ze),{},{title:v})).then((function(e){E(e.data.shows)})).catch((function(e){console.log(e)})).finally((function(){m(!1)}))}),2e3)),function(){return clearTimeout(e)}}),[v]);var j=function(){ze.start=ze.start-20,w()},O=function(){ze.start=ze.start+20,w()};return r.a.createElement(ce.a,{className:e.container,maxWidth:"xl"},r.a.createElement(L.a,{label:"Rechercher une s\xe9rie",variant:"outlined",className:e.textfield,onChange:function(e){""===e.target.value?w():(x(e.target.value),m(!0))}}),u?r.a.createElement("h1",null,"Loading..."):""===v?r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{container:!0,spacing:4},c&&c.map((function(t){return r.a.createElement(oe.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,key:t.id,className:e.card},r.a.createElement(De,{show:t}))}))),r.a.createElement(se.a,{m:5,className:e.center},r.a.createElement(se.a,{component:"span",m:1},r.a.createElement(_.a,{variant:"outlined",onClick:j},"Prev")),r.a.createElement(se.a,{component:"span",m:1},r.a.createElement(_.a,{variant:"outlined",onClick:O},"Next")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{container:!0,spacing:4},g&&g.map((function(t){return r.a.createElement(oe.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,key:t.id,className:e.card},r.a.createElement(De,{show:t}))}))),r.a.createElement(se.a,{m:5,className:e.center},r.a.createElement(se.a,{component:"span",m:1},r.a.createElement(_.a,{variant:"outlined",onClick:j},"Prev")),r.a.createElement(se.a,{component:"span",m:1},r.a.createElement(_.a,{variant:"outlined",onClick:O},"Next")))))}var Ue=a(322),Ge=a(321),qe=a(330),Ve=a(318),Xe=a(320),He=a(328),Je=a(319),Ye=a(161),$e=a.n(Ye),Ke=Object(C.a)((function(e){return{root:{marginBottom:"1rem"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},divider:{margin:e.spacing(2,0)}}}));function Qe(e){var t=e.episode,a=e.store,c=e.inUser,o=e.getAllEpisodes,s=e.setEpisode,l=t.title,i=t.date,u=t.description,m=t.note,p=t.user,d=t.id,f=Ke(),g=Object(n.useMemo)((function(){var e;return new Date(i).toLocaleDateString(null===(e=a.user)||void 0===e?void 0:e.locale,{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),[i,a]),E=function(){var e=Object(R.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),p.seen){e.next=7;break}return e.next=4,k.addEpisodeWatched(d,a.access_token);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,k.removeEpisodeWatched(d,a.access_token);case 9:e.t0=e.sent;case 10:200===e.t0.status&&o();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(R.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.addEpisodeWatched(d,a.access_token,!1);case 2:200===e.sent.status&&o();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:f.root},r.a.createElement(qe.a,{variant:"outlined"},r.a.createElement(Ve.a,{expandIcon:r.a.createElement($e.a,null),"aria-label":"Expand","aria-controls":"additional-actions1-content",id:"additional-actions1-header"},a.user&&c&&r.a.createElement(Je.a,{"aria-label":"Seen",onClick:E,onFocus:function(e){return e.stopPropagation()},control:r.a.createElement(He.a,{checked:p.seen})}),r.a.createElement("div",null,r.a.createElement(T.a,{variant:"h6",component:"h5"},l),r.a.createElement(T.a,{color:"textSecondary"},g))),r.a.createElement(Xe.a,null,r.a.createElement("div",null,r.a.createElement(T.a,{color:"textSecondary"},u),r.a.createElement(Ge.a,{className:f.divider}),r.a.createElement(oe.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement("h3",null,"Note: ",m.mean.toFixed(1)," / 5"),a.user&&c&&r.a.createElement("div",null,!p.seen&&r.a.createElement(_.a,{style:{marginRight:"1rem"},variant:"contained",disableElevation:!0,onClick:b},"Marquer uniquement cet \xe9pisode"),r.a.createElement(_.a,{variant:"contained",disableElevation:!0,onClick:function(){return s(t)}},"Commentaires"))))))))}function Ze(e){var t=e.setEpisode,a=e.episode,c=e.store,o=Object(n.useState)(null),l=Object(s.a)(o,2),i=l[0],u=l[1],m=Object(n.useState)(""),p=Object(s.a)(m,2),d=p[0],f=p[1],g=function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getEpisodeComments(a.id,c.access_token);case 2:200===(t=e.sent).status&&u(t.data.comments),console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(R.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,k.commentEpisode(a.id,d,c.access_token);case 3:n=e.sent,console.log(n),200===n.status&&g();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){g()}),[]);var b=Object(n.useCallback)((function(e){var t;return new Date(e).toLocaleDateString(null===(t=c.user)||void 0===t?void 0:t.locale,{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),[i,c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{id:"alert-dialog-title"},"Commentaires"),r.a.createElement(M.a,null,i?i.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("h3",{style:{margin:"0 0 20px 0"}},e.login),r.a.createElement("span",null," - Post\xe9 le ",b(e.date))),r.a.createElement("p",null,e.text),r.a.createElement(Ge.a,{style:{margin:"20px"}}))})):r.a.createElement("h1",null,"Pas de commentaires"),r.a.createElement("form",{style:{padding:"0px 20px",marginTop:"4rem"}},r.a.createElement(L.a,{margin:"dense",id:"comment",label:"Commenter",type:"text",fullWidth:!0,multiline:!0,onChange:function(e){f(e.target.value)}}),r.a.createElement("div",null,r.a.createElement(_.a,{type:"submit",onClick:E,variant:"contained",color:"primary",style:{margin:"35px auto 10px auto",display:"block"}},"Envoyer")))),r.a.createElement(G.a,null,r.a.createElement(_.a,{onClick:function(){t(!1)},color:"primary",autoFocus:!0},"Fermer")))}var et=Object(C.a)({media:{height:360,position:"relative","&:after":{content:'""',display:"block",position:"absolute",width:"100%",height:"64%",bottom:0,zIndex:1,background:"linear-gradient(to top, #000, rgba(0,0,0,0))"}},tag:{color:"rgba(0, 0, 0, 0.54)"},metaDataRight:{fontSize:"1.1rem"},tagWrapper:{marginBottom:"9px"},bannerWrapper:{position:"relative"},parent:{display:"flex",position:"absolute",zIndex:30,bottom:"10px",right:"10px",transform:"scale(0.8)"},fabProgress:{color:"white",position:"absolute",top:0,left:0,zIndex:1,marginRight:"auto",marginLeft:"auto"},btnWrapper:{position:"relative",marginLeft:"1.3rem"},title:{position:"absolute",bottom:"10px",left:"20px",color:"white",zIndex:30}}),tt=r.a.forwardRef((function(e,t){return r.a.createElement(ke.a,Object.assign({direction:"up",ref:t},e))}));function at(){var e=Object(N.h)("/shows/:id").params.id,t=et(),a=Object(he.useArrowWhiteButtonStyles)(),c=x(),o=Object(s.a)(c,2),l=o[0],i=(o[1],Object(n.useState)(null)),u=Object(s.a)(i,2),m=u[0],p=u[1],d=Object(n.useState)(null),f=Object(s.a)(d,2),g=f[0],E=f[1],b=Object(n.useState)(!1),h=Object(s.a)(b,2),v=h[0],w=h[1],j=Object(n.useState)(!1),O=Object(s.a)(j,2),y=O[0],S=O[1],C=Object(n.useState)(!1),I=Object(s.a)(C,2),W=I[0],F=I[1],B=Object(n.useState)(!1),P=Object(s.a)(B,2),z=P[0],M=P[1],L=function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.archiveShow(m.id,l.access_token);case 2:t=e.sent,console.log(t),200===t.status&&S(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.unarchiveShow(m.id,l.access_token);case 2:t=e.sent,console.log(t),200===t.status&&S(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(R.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.addShowToUser(m.id,l.access_token);case 2:200===e.sent.status&&F(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(R.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.removeShowToUser(m.id,l.access_token);case 2:200===e.sent.status&&F(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var t=Object(R.a)(A.a.mark((function t(){var a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.getShowEpisodes(e,l.access_token);case 2:a=t.sent,console.log("episodes"),console.log(l.access_token),console.log(a),200===a.status&&E(a.data.episodes);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){l.user_loading||(Object(R.a)(A.a.mark((function t(){var a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.getShowDetails(e,l.access_token);case 2:200===(a=t.sent).status&&(p(a.data.show),F(a.data.show.in_account),S(a.data.show.user.archived));case 4:case"end":return t.stop()}}),t)})))(),X())}),[l.user_loading,l.user]),Object(n.useEffect)((function(){w(!1)}),[W]),r.a.createElement(r.a.Fragment,null,m&&g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{maxWidth:"md"},r.a.createElement(oe.a,{container:!0,spacing:3},r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(me.a,null,r.a.createElement(pe.a,{className:t.media,image:m.images.show},r.a.createElement(se.a,{className:t.parent},r.a.createElement("div",{className:t.btnWrapper},l.user&&r.a.createElement(_.a,{classes:a,onClick:function(){v||(W?(w(!0),V()):(w(!0),q()))}},W?r.a.createElement(xe.a,null):r.a.createElement(je.a,null)),v&&!W&&r.a.createElement(U.a,{size:"100%",className:t.fabProgress})),W&&(y?r.a.createElement("div",{className:t.btnWrapper},r.a.createElement(_.a,{classes:a,onClick:G},r.a.createElement(Fe.a,null))):r.a.createElement("div",{className:t.btnWrapper},r.a.createElement(_.a,{classes:a,onClick:function(){y?G():L()}},r.a.createElement(Ie.a,null))))),r.a.createElement(T.a,{className:t.title,gutterBottom:!0,variant:"h4",component:"h4"},m.title)),r.a.createElement(Ue.a,null,r.a.createElement(oe.a,{container:!0,spacing:5,justify:"space-between"},r.a.createElement(oe.a,{item:!0,xs:12,md:7},r.a.createElement("p",{style:{color:"#333",fontSize:"1.2rem",marginTop:"0px"}},m.description)),r.a.createElement(oe.a,{item:!0,xs:12,md:4},r.a.createElement("div",{className:t.metaDataRight},r.a.createElement("div",{className:t.tagWrapper},r.a.createElement("span",{className:t.tag},"Note: "),r.a.createElement("span",null," ",m.notes.mean.toFixed(1)," / 5")),r.a.createElement("div",{className:t.tagWrapper},r.a.createElement("span",{className:t.tag},"Rating: "),r.a.createElement("span",null," ",m.rating)),r.a.createElement("div",{className:t.tagWrapper},r.a.createElement("span",{className:t.tag},"Nombre de saisons: "),r.a.createElement("span",null," ",m.seasons)),r.a.createElement("div",{className:t.tagWrapper},r.a.createElement("span",{className:t.tag},"Nombre total d'\xe9pisodes: "),r.a.createElement("span",null,m.episodes)),r.a.createElement("div",{className:t.tagWrapper},r.a.createElement("span",{className:t.tag},"Dur\xe9e d'un \xe9pisode: "),r.a.createElement("span",null," ",m.length," min")),r.a.createElement("div",{className:t.tagWrapper},r.a.createElement("span",{className:t.tag},"Genres: "),r.a.createElement("span",null," ",Object.values(m.genres).join(", "))))))))),r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(me.a,null,r.a.createElement(Ue.a,null,r.a.createElement("h1",{style:{textAlign:"center"}},"Episodes"),g.map((function(e){return 1===e.episode?r.a.createElement("div",{key:e.id},r.a.createElement("h1",{style:{margin:"40px 0 20px"}},"Saison ",e.season),r.a.createElement(Qe,{setEpisode:M,episode:e,store:l,inUser:W,getAllEpisodes:X})):r.a.createElement("div",{key:e.id},r.a.createElement(Qe,{setEpisode:M,episode:e,store:l,inUser:W,getAllEpisodes:X}))}))))))),r.a.createElement(D.a,{open:!!z,TransitionComponent:tt,onClose:function(){return M((function(e){return!e}))},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",maxWidth:"md",fullWidth:!0},r.a.createElement(Ze,{setEpisode:M,episode:z,store:l}))))}var nt=a(163),rt=a(325),ct=a(323),ot=a(324),st=(a(250),a(251),Object(C.a)((function(e){return{container:{overflowX:"hidden",marginBottom:e.spacing(10)},title:{marginBottom:"15px",fontWeight:100},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},slideCard:{padding:"12px"}}}))),lt={slidesPerView:1,pagination:{el:".swiper-pagination",clickable:!0},spaceBetween:10,initialSlide:0,resistanceRatio:0,threshold:40,longSwipesRatio:.1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{600:{slidesPerView:2,spaceBetween:24,slidesPerGroup:2},960:{slidesPerView:3,spaceBetween:24,slidesPerGroup:3},1280:{slidesPerView:4,spaceBetween:24,slidesPerGroup:4},1600:{slidesPerView:6,spaceBetween:24,slidesPerGroup:6}}};function it(){var e=x(),t=Object(s.a)(e,2),a=t[0],c=(t[1],st()),o=Object(n.useState)([]),l=Object(s.a)(o,2),i=l[0],u=l[1],m=Object(n.useState)([]),p=Object(s.a)(m,2),d=(p[0],p[1],Object(n.useRef)()),f=Object(n.useRef)();return Object(n.useEffect)((function(){rt.a.use([ct.a,ot.a]),d.current=new rt.a(".swiper1",lt),f.current=new rt.a(".swiper2",lt)}),[]),Object(n.useEffect)((function(){a.user_loading||Object(R.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getShowsToDiscover(a.access_token);case 2:200===(t=e.sent).status&&(console.log(t.data),u(t.data.shows),d.current.update());case 4:case"end":return e.stop()}}),e)})))()}),[a.user_loading,a.user]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{className:c.container,maxWidth:"xl"},r.a.createElement(T.a,{className:c.title,variant:"h4",align:"left"},"S\xe9ries \xe0 d\xe9couvrir"),r.a.createElement("div",{className:"swiper-container swiper1"},r.a.createElement("div",{className:"swiper-wrapper"},i.length>0?i.map((function(e){return r.a.createElement("div",{key:e.id,className:"swiper-slide"},r.a.createElement(De,{show:e}))})):Object(nt.a)(Array(6)).map((function(e,t){return r.a.createElement("div",{key:t,className:"swiper-slide"},r.a.createElement(B.a,{variant:"rect",width:"100%",height:"360px"}))}))),r.a.createElement("div",{className:"swiper-pagination"}),r.a.createElement("div",{className:"swiper-button-next"}),r.a.createElement("div",{className:"swiper-button-prev"}))))}var ut=a(166),mt=Object(C.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},upperCase:{textTransform:"upperCase"},large:{width:"100%",height:"100%"},timeP:{fontSize:"12px"},mt38:{marginTop:"38px"},mt18:{marginTop:"18px"},suivis:{width:"50%",float:"left"}}}));function pt(){var e=mt(),t=g.getToken(),a=x(),c=Object(s.a)(a,2),o=c[0],l=(c[1],Object(n.useState)(null)),i=Object(s.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(!0),d=Object(s.a)(p,2),f=d[0],E=d[1],b=Object(n.useState)(null),h=Object(s.a)(b,2),v=h[0],w=h[1],j=Object(n.useState)(null),O=Object(s.a)(j,2),y=O[0],C=O[1],I=Object(N.h)("/profil/:id").params.id,W=Object(N.g)().pathname;function T(){k.friendListBlocked(t,!0).then((function(e){w(e.data.users)})).catch((function(e){console.log(e)}))}function B(e){var t=Math.floor(e/60),a=e%60;if(t>24){for(var n=0;t>24;)t-=24,n+=1;return"".concat(n," jours ").concat(t," heures et ").concat(a," minutes")}return"".concat(t," heures et ").concat(a," minutes")}Object(n.useEffect)((function(){k.getUserInfoById(I).then((function(e){m(e.data.member)})).catch((function(e){console.log(e)})),E(!0),k.friendList(I,t).then((function(e){C(e.data.users)})).catch((function(e){console.log(e)}))}),[I]),Object(n.useEffect)((function(){o.user&&(k.friendList(o.user.id,t).then((function(e){void 0!==e.data.users.find((function(e){return e.id==I}))&&E(!1)})).catch((function(e){console.log(e)})),T())}),[o]);return r.a.createElement(r.a.Fragment,null,null!=u&&r.a.createElement(ce.a,{maxWidth:"lg"},r.a.createElement(oe.a,{container:!0,spacing:4},r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(ut.a,{className:e.paper},"Resum\xe9 de ",r.a.createElement("span",{className:e.upperCase},u.login),o.user&&o.user.id!==u.id&&(f?v&&u.id&&v.find((function(e){return e.id===u.id}))?r.a.createElement(_.a,{variant:"contained",color:"primary",onClick:function(){k.deblockFriend(u.id,t).then((function(e){T()})).catch((function(e){console.log(e)}))}},"D\xe9bloquer"):r.a.createElement(_.a,{variant:"contained",color:"primary",onClick:function(){k.addFriend(u.id,t).then((function(e){E(!1)})).catch((function(e){console.log(e)}))}},"Suivre"):r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{variant:"contained",onClick:function(){k.blockFriend(u.id,t).then((function(e){T(),E(!0)})).catch((function(e){console.log(e)}))}},"Bloquer"),r.a.createElement(_.a,{variant:"contained",color:"secondary",onClick:function(){k.deleteFriend(u.id,t).then((function(e){E(!0)})).catch((function(e){console.log(e)}))}},"Supprimer"))))),r.a.createElement(oe.a,{item:!0,xs:2},r.a.createElement(ut.a,{className:e.paper},r.a.createElement(F.a,{variant:"rounded",alt:"profile-pic",src:u.avatar,className:e.large}))),r.a.createElement(oe.a,{item:!0,xs:2},r.a.createElement(ut.a,{className:e.paper},r.a.createElement("span",null,u.stats.episodes,r.a.createElement("br",null),"\xc9PISODE")),r.a.createElement(ut.a,{className:"".concat(e.paper," ").concat(e.mt38)},r.a.createElement("span",null,u.stats.shows,r.a.createElement("br",null),"S\xc9RIES"))),r.a.createElement(oe.a,{item:!0,xs:2},r.a.createElement(ut.a,{className:e.paper},r.a.createElement("span",null,u.xp,r.a.createElement("br",null),"XP")),r.a.createElement(ut.a,{className:"".concat(e.paper," ").concat(e.mt38)},r.a.createElement("span",null,u.stats.badges,r.a.createElement("br",null),"BADGES"))),r.a.createElement(oe.a,{item:!0,xs:6},r.a.createElement(ut.a,{className:e.paper},r.a.createElement("span",null,"Temps pass\xe9 devant la t\xe9l\xe9:"),r.a.createElement("br",null),r.a.createElement("span",null,B(u.stats.time_on_tv)),r.a.createElement("br",null),r.a.createElement("span",{className:e.timeP},"Encore ",B(u.stats.time_to_spend))),r.a.createElement(ut.a,{className:"".concat(e.paper," ").concat(e.mt18)},r.a.createElement("span",null,y&&y.length,r.a.createElement("br",null),r.a.createElement(S.b,{to:"".concat(W,"/friends")},"SUIVIS")))),o.user&&o.user.id===u.id&&r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(ut.a,{className:e.paper},r.a.createElement("span",null,"Personnes Bloquer:",r.a.createElement("br",null),v&&v.length>0?v.map((function(t){return r.a.createElement(ut.a,{key:t.id,className:"".concat(e.paper," ").concat(e.mt18)},r.a.createElement(S.b,{to:"/profil/".concat(t.id)},r.a.createElement("p",null,t.login)))})):r.a.createElement(ut.a,{className:"".concat(e.paper," ").concat(e.mt18)},r.a.createElement("p",null,"Aucun amis bloqu\xe9 pour le moment !"))))))))}var dt=a(327),ft=Object(C.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},upperCase:{textTransform:"upperCase"},large:{width:"100%",height:"100%"},timeP:{fontSize:"12px"},mt38:{marginTop:"38px"},mt18:{marginTop:"18px"},textLeft:{textAlign:"left"},floatRight:{float:"right"}}}));function gt(){var e=Object(N.f)(),t=ft(),a=g.getToken(),c=Object(n.useState)([]),o=Object(s.a)(c,2),l=o[0],i=o[1],u=Object(n.useState)(l[0]),m=Object(s.a)(u,2),d=m[0],f=m[1],E=Object(n.useState)(null),b=Object(s.a)(E,2),h=b[0],v=b[1],x=Object(n.useState)(null),w=Object(s.a)(x,2),j=w[0],O=w[1],y=Object(n.useState)(!1),C=Object(s.a)(y,2),I=C[0],W=C[1],T=Object(n.useState)(""),_=Object(s.a)(T,2),F=_[0],B=_[1],P=I&&0===l.length,A=Object(N.h)("/profil/:id/friends").params.id,R=function(e){B(e.target.value)};return Object(n.useEffect)((function(){k.getUserInfoById(A).then((function(e){v(e.data.member)})).catch((function(e){console.log(e)})),k.friendList(A,a).then((function(e){O(e.data.users)})).catch((function(e){console.log(e)})),k.friendsReceived(a).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}),[A]),Object(n.useEffect)((function(){F.length>=2&&k.findMembers(F+"%").then((function(e){i(e.data.users)})).catch((function(e){console.log(e)}))}),[P,F]),Object(n.useEffect)((function(){d&&e.push("/profil/".concat(d.id))}),[d]),r.a.createElement(r.a.Fragment,null,null!==h&&r.a.createElement(ce.a,{maxWidth:"lg"},r.a.createElement(oe.a,{container:!0,spacing:4},r.a.createElement(oe.a,{item:!0,xs:12},r.a.createElement(ut.a,{className:t.paper},"Membres suivis par ",r.a.createElement("span",{className:t.upperCase},h.login))),r.a.createElement(oe.a,{item:!0,xs:3},r.a.createElement(dt.a,{value:d,onChange:function(e,t){f(t)},style:{width:"100%"},open:I,onOpen:function(){W(!0)},onClose:function(){W(!1)},getOptionLabel:function(e){return e.login},options:l,loading:P,renderInput:function(e){return r.a.createElement(L.a,Object.assign({},e,{label:"Recherche",variant:"outlined",InputProps:Object(p.a)(Object(p.a)({},e.InputProps),{},{endAdornment:r.a.createElement(n.Fragment,null,P?r.a.createElement(U.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}),onChange:R}))}})),r.a.createElement(oe.a,{item:!0,xs:9},r.a.createElement(ut.a,{className:t.paper},r.a.createElement("p",{className:t.textLeft},r.a.createElement("span",null,"N\xb0: ",r.a.createElement("span",{className:t.upperCase},h.stats.friends))),j&&j.map((function(e){return r.a.createElement(S.b,{to:"/profil/".concat(e.id),key:e.id},r.a.createElement("p",null,e.login))})))))))}var Et=function(){var e=x(),t=Object(s.a)(e,2),a=(t[0],t[1]);return Object(n.useEffect)((function(){var e=g.getToken();e?k.getUserInfo(e).then((function(t){var n=t.data.member,r=n.login,c=n.avatar,o=n.locale,s=n.id;a({type:l,payload:{login:r,access_token:e,avatar:c,locale:o,id:s}})})).catch((function(){return a({type:m})})):a({type:m})}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(S.a,null,r.a.createElement("header",{className:"App-header"},r.a.createElement(ne,null)),r.a.createElement(N.c,null,r.a.createElement(N.a,{exact:!0,path:"/",component:it}),r.a.createElement(N.a,{exact:!0,path:"/shows",component:Le}),r.a.createElement(N.a,{exact:!0,path:"/shows/:id",component:at}),r.a.createElement(N.a,{exact:!0,path:"/movies",component:re}),r.a.createElement(N.a,{exact:!0,path:"/profil/:id",component:pt}),r.a.createElement(N.a,{exact:!0,path:"/profil/:id/friends",component:gt}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null,r.a.createElement(Et,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[182,1,2]]]);
//# sourceMappingURL=main.5786ed58.chunk.js.map