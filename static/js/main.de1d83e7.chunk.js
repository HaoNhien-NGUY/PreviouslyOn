(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{182:function(e,t,a){e.exports=a(252)},187:function(e,t,a){},206:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){},252:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),s=a.n(c),o=(a(187),a(7)),l="login",i="logout",u="user_loading",m="user_loading_done",p=a(30),d=a(95),f=a(96),g=new(function(){function e(){Object(d.a)(this,e)}return Object(f.a)(e,[{key:"setToken",value:function(e){localStorage.setItem("betaseries_token",e)}},{key:"removeToken",value:function(){localStorage.removeItem("betaseries_token")}},{key:"getToken",value:function(){return localStorage.getItem("betaseries_token")}}]),e}());Object.freeze(g);var E=function(e,t){switch(t.type){case l:var a=t.payload,n=a.login,r=a.access_token,c=a.avatar,s=a.locale,o=a.id;return g.setToken(r),Object(p.a)(Object(p.a)({},e),{},{user:{login:n,avatar:c,locale:s,id:o},access_token:r,user_loading:!1});case i:return g.removeToken(),Object(p.a)(Object(p.a)({},e),{},{user:!1,access_token:null});case u:return Object(p.a)(Object(p.a)({},e),{},{user_loading:!0});case m:return Object(p.a)(Object(p.a)({},e),{},{user_loading:!1});default:return e}},h={user:!1,access_token:null,user_loading:!0},b=Object(n.createContext)(h),v=function(e){var t=e.children,a=Object(n.useReducer)(E,h);return r.a.createElement(b.Provider,{value:a},t)},w=function(){return Object(n.useContext)(b)},x=a(123),j=a.n(x);j.a.interceptors.response.use((function(e){return e}),(function(e){return e.response?e.response:null}));var O="https://api.betaseries.com",k=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={"X-BetaSeries-Key":"cb505d0ba413"};return e&&(t.Authorization="Bearer ".concat(e)),t},y=new(function(){function e(){Object(d.a)(this,e)}return Object(f.a)(e,[{key:"login",value:function(e){return j.a.post("".concat(O,"/members/auth?login=").concat(e.login,"&password=").concat(e.password),{},{headers:k()})}},{key:"getAllShows",value:function(e){return j.a.get("".concat(O,"/shows/list?limit=").concat(e.limit,"&start=").concat(e.start),{headers:k()})}},{key:"getAllShowsWith",value:function(e){return j.a.get("".concat(O,"/shows/list?limit=").concat(e.limit,"&start=").concat(e.start,"&starting=").concat(e.title),{headers:k()})}},{key:"getAllMovies",value:function(){return j.a.get("".concat(O,"/movies/list"),{headers:k()})}},{key:"IsTokenActive",value:function(e){return j.a.get("".concat(O,"/members/is_active"),{headers:k(e)})}},{key:"getUserInfo",value:function(e){return j.a.get("".concat(O,"/members/infos"),{headers:k(e)})}},{key:"getUserInfoById",value:function(e){return j.a.get("".concat(O,"/members/infos?id=").concat(e),{headers:k()})}},{key:"memberDestroyToken",value:function(e){return j.a.post("".concat(O,"/members/destroy"),{},{headers:k(e)})}},{key:"friendList",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return j.a.get("".concat(O,"/friends/list"),{params:{id:e,blocked:a},headers:k(t)})}},{key:"friendListBlocked",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return j.a.get("".concat(O,"/friends/list"),{params:{blocked:t},headers:k(e)})}},{key:"friendsReceived",value:function(e){return j.a.get("".concat(O,"/friends/requests"),{params:{received:!0},headers:k(e)})}},{key:"blockFriend",value:function(e,t){return j.a.post("".concat(O,"/friends/block"),{id:e},{headers:k(t)})}},{key:"deblockFriend",value:function(e,t){return j.a.delete("".concat(O,"/friends/block"),{params:{id:e},headers:k(t)})}},{key:"addFriend",value:function(e,t){return j.a.post("".concat(O,"/friends/friend"),{id:e},{headers:k(t)})}},{key:"deleteFriend",value:function(e,t){return j.a.delete("".concat(O,"/friends/friend"),{params:{id:e},headers:k(t)})}},{key:"findMembers",value:function(e){return j.a.get("".concat(O,"/members/search?login=").concat(e),{headers:k()})}},{key:"getShowsToDiscover",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return j.a.get("".concat(O,"/shows/discover?limit=30"),{headers:k(e)})}},{key:"getMoviesToDiscover",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return j.a.get("".concat(O,"/movies/discover"),{params:{limit:42,type:"popular"},headers:k(e)})}},{key:"getMovieDetails",value:function(e){return j.a.get("".concat(O,"/movies/movie"),{params:{id:e},headers:k()})}},{key:"addShowToUser",value:function(e,t){return j.a.post("".concat(O,"/shows/show"),{id:e},{headers:k(t)})}},{key:"removeShowToUser",value:function(e,t){return j.a.delete("".concat(O,"/shows/show"),{params:{id:e},headers:k(t)})}},{key:"getShowDetails",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return j.a.get("".concat(O,"/shows/display"),{params:{id:e},headers:k(t)})}},{key:"archiveShow",value:function(e,t){return j.a.post("".concat(O,"/shows/archive"),{id:e},{headers:k(t)})}},{key:"unarchiveShow",value:function(e,t){return j.a.delete("".concat(O,"/shows/archive"),{params:{id:e},headers:k(t)})}},{key:"getShowEpisodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return j.a.get("".concat(O,"/shows/episodes"),{params:{id:e},headers:k(t)})}},{key:"getEpisodeDetails",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return j.a.get("".concat(O,"/episodes/display"),{params:{id:e},headers:k(t)})}},{key:"addEpisodeWatched",value:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return j.a.post("".concat(O,"/episodes/watched"),{id:e,bulk:a},{headers:k(t)})}},{key:"removeEpisodeWatched",value:function(e,t){return j.a.delete("".concat(O,"/episodes/watched"),{params:{id:e},headers:k(t)})}},{key:"getEpisodeComments",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return j.a.get("".concat(O,"/comments/comments"),{params:{id:e,type:"episode",order:"desc"},headers:k(t)})}},{key:"commentEpisode",value:function(e,t,a){return j.a.post("".concat(O,"/comments/comment"),{id:e,type:"episode",text:t},{headers:k(a)})}},{key:"getMemberShows",value:function(e){return j.a.get("".concat(O,"/shows/member"),{headers:k(e)})}}]),e}());Object.freeze(y);var S=a(22),N=a(19),C=a(154),W=a(305),I=a(306),B=a(107),P=a(300),_=a(331),T=a(307),A=a(11),F=a.n(A),R=a(17),D=a(329),M=a(296),z=a(297),L=a(324),U=a(299),G=a(301),V=(a(206),a(207)),q=Object(C.a)((function(e){return{wrapper:{margin:e.spacing(1),position:"relative"},fabProgress:{color:e.primary,position:"absolute",top:-6,left:-6,zIndex:1},buttonProgress:{color:e.primary,position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));function X(e){var t=e.isOpen,a=e.storeDispatch,c=e.handleClose,s=q(),i=Object(n.useState)(""),u=Object(o.a)(i,2),m=u[0],p=u[1],d=Object(n.useState)(""),f=Object(o.a)(d,2),g=f[0],E=f[1],h=Object(n.useState)(!1),b=Object(o.a)(h,2),v=b[0],w=b[1],x=Object(n.useState)(!1),j=Object(o.a)(x,2),O=j[0],k=j[1],S=function(){var e=Object(R.a)(F.a.mark((function e(){var t,n,r,s,o,i,u,p,d;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k(!0),t={},!m||!g){e.next=23;break}return n={login:m,password:V(g)},e.next=6,y.login(n);case 6:if(200!==(r=e.sent).status){e.next=18;break}return e.next=10,y.getUserInfo(r.data.token);case 10:s=e.sent,o=s.data.member,i=o.login,u=o.avatar,p=o.locale,d=o.id,a({type:l,payload:{login:i,access_token:r.data.token,avatar:u,locale:p,id:d}}),c(),w(t),k(!1),e.next=21;break;case 18:t.error="Login ou mot de passe incorrect !",w(t),k(!1);case 21:e.next=25;break;case 23:w({error:"Login ou mot de passe manquant."}),k(!1);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){v&&w(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{open:t,onClose:function(){c(),w({})},maxWidth:"xs","aria-labelledby":"form-dialog-title"},r.a.createElement(M.a,{id:"form-dialog-title",style:{textAlign:"center",color:"#3f51b5"}},"Login"),r.a.createElement("div",{className:"error"},v.error),r.a.createElement(z.a,null,r.a.createElement("form",{style:{padding:"0px 20px"}},r.a.createElement(L.a,{autoFocus:!0,margin:"dense",id:"name",label:"Username",type:"text",fullWidth:!0,onChange:function(e){p(e.target.value),N()}}),r.a.createElement(L.a,{margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0,onChange:function(e){E(e.target.value),N()}}),r.a.createElement("div",{className:s.wrapper},O?r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{size:24,className:s.buttonProgress}),r.a.createElement(P.a,{variant:"contained",disabled:!0,style:{margin:"35px auto 20px auto",display:"block"}},"Submit")):r.a.createElement(P.a,{type:"submit",onClick:S,variant:"contained",color:"primary",style:{margin:"35px auto 10px auto",display:"block"}},"Envoyer")))),r.a.createElement(G.a,null,r.a.createElement(P.a,{onClick:function(){c(),N()},color:"primary"},"Cancel"))))}var H=a(166),J=a(294),Y=a(330);function $(e){var t=e.anchorEl,a=e.setOpenMenu,n=e.openMenu,c=e.storeDispatch,s=e.store,o=Object(N.f)(),l=function(){a(!1)},u=function(e){l(),o.push(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{id:"simple-menu",anchorEl:t,keepMounted:!0,PaperProps:{style:{transform:"translateY(".concat(null===t||void 0===t?void 0:t.offsetHeight,"px)"),border:"solid rgba(0, 0, 0, 0.24) 1px"},elevation:1},TransitionComponent:J.a,open:n,onClose:l},r.a.createElement(Y.a,{onClick:function(){return u("/profil/".concat(s.user.id))}},"Profil"),r.a.createElement(Y.a,{onClick:function(){return u("/profil/".concat(s.user.id,"/friends"))}},"Mes amis"),r.a.createElement(Y.a,{onClick:function(){return u("/friends/".concat(s.user.id))}},"Param\xe8tres"),r.a.createElement(Y.a,{onClick:function(){c({type:i}),l()}},"Se d\xe9connecter")))}var K=a(161),Q=a.n(K),Z=a(69),ee=a(160),te=r.a.memo((function(e){var t=e.store,a=Object(N.g)();return console.log(a.pathname),r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.NavMenu,{gutter:1,useStyles:ee.useFloatNavigationMenuStyles,style:{fontSize:"1.5rem"}},r.a.createElement(Z.NavItem,{as:S.b,to:"/",active:"/"===a.pathname},"Accueil"),r.a.createElement(Z.NavItem,{as:S.b,to:"/shows",active:"/shows"===a.pathname},"S\xe9ries"),r.a.createElement(Z.NavItem,{as:S.b,to:"/movies",active:"/movies"===a.pathname},"Films"),t.user&&r.a.createElement(Z.NavItem,{as:S.b,to:"/list/".concat(t.user.id),active:a.pathname.startsWith("/list")},"Ma liste")))})),ae=Object(C.a)((function(e){return{root:{flexGrow:1,paddingTop:"8px",marginBottom:"45px"},menuButton:{marginRight:e.spacing(2)},appBar:{backgroundColor:"white"},title:{flexGrow:1,fontWeight:600},textleft:{textAlign:"left"}}}));function ne(){var e=ae(),t=w(),a=Object(o.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(!1),i=Object(o.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(!1),d=Object(o.a)(p,2),f=d[0],g=d[1],E=Object(n.useRef)(null);return r.a.createElement("div",{className:e.root},r.a.createElement(W.a,{className:e.appBar,position:"static",elevation:0},r.a.createElement(I.a,null,r.a.createElement(B.a,{variant:"h4",color:"primary",className:"".concat(e.title," ").concat(e.textleft)},r.a.createElement(S.b,{to:"/",style:{color:"inherit",textDecoration:"inherit"}},"Nentai")),r.a.createElement("div",{style:{position:"absolute",left:"50%",transform:"translateX(-50%)"}},r.a.createElement(te,{store:c})),r.a.createElement("div",{style:{display:"flex",flexGrow:1,justifyContent:"flex-end"}},c.user_loading?r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{variant:"text",width:"13%",style:{marginRight:"10px"}}),r.a.createElement(T.a,{variant:"circle",width:40,height:40})):c.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{ref:E,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(){return g(!0)},style:{marginRight:"5px",color:"rgba(0, 0, 0, 0.54)",textTransform:"none",fontSize:"1.2rem"}},c.user.login,r.a.createElement(Q.a,{style:{marginLeft:"3px"}})),r.a.createElement($,{anchorEl:E.current,openMenu:f,setOpenMenu:g,storeDispatch:s,store:c}),r.a.createElement(S.b,{to:"/profil/".concat(c.user.id),style:{margin:"auto 0"}},c.user.avatar?r.a.createElement(_.a,{alt:"profile-pic",src:c.user.avatar}):r.a.createElement(_.a,{alt:"profile-pic"},c.user.login.charAt(0)))):r.a.createElement(P.a,{onClick:function(){m(!0)},style:{color:"rgba(0, 0, 0, 0.54)"}},"S'identifier")))),r.a.createElement(X,{isOpen:u,handleClose:function(){m(!1)},storeDispatch:s}))}function re(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1],s=function(){var e=Object(R.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getAllMovies();case 2:200===(t=e.sent).status?c(t.data.movies):console.log(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),r.a.createElement(r.a.Fragment,null,a&&a.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Title: ",e.title),r.a.createElement("br",null))})))}var ce=a(315),se=a(311),oe=a(122),le=a(108),ie=a.n(le),ue=a(310),me=a(313),pe=a(314),de=a(298),fe=a(70),ge=a(130),Ee=a(162),he=a(308),be=a(62),ve=a(63),we=a.n(ve),xe=a(64),je=a.n(xe),Oe=Object(C.a)((function(){return{parent:{display:"flex",justifyContent:"space-between",marginTop:"auto",width:"95%",position:"absolute",bottom:6},fabProgress:{color:"white",position:"absolute",top:0,left:0,zIndex:1,marginRight:"auto",marginLeft:"auto"},btnWrapper:{position:"relative",transform:"scale(0.7)"}}})),ke=r.a.memo((function(e){var t=e.handleAddShow,a=e.handleRemoveShow,c=e.setShowDetails,s=e.inUser,l=e.store,i=Object(be.useArrowWhiteButtonStyles)(),u=Oe(),m=Object(n.useState)(!1),p=Object(o.a)(m,2),d=p[0],f=p[1];Object(n.useEffect)((function(){f(!1)}),[s]);return r.a.createElement(oe.a,{className:u.parent},r.a.createElement("div",{className:u.btnWrapper},l.user&&r.a.createElement(P.a,{classes:i,onClick:function(){d||(s?(f(!0),a()):(f(!0),t()))}},s?r.a.createElement(we.a,null):r.a.createElement(je.a,null)),d&&!s&&r.a.createElement(U.a,{size:"100%",className:u.fabProgress})),r.a.createElement("div",{className:u.btnWrapper},r.a.createElement(P.a,{classes:i,onClick:function(){c((function(e){return!e}))}},r.a.createElement(he.a,null))))})),ye=a(309),Se=a(163),Ne=a(312),Ce=a(110),We=a.n(Ce),Ie=a(112),Be=a.n(Ie),Pe=a(111),_e=a.n(Pe),Te=Object(C.a)((function(e){return{bannerTitle:{top:"50%",width:"100%",textAlign:"center",transform:"translateY(-50%)",color:"white",fontFamily:"Montserrat"},bannerBottomLeft:{bottom:"20px",left:"20px",color:"white"},bannerItem:{zIndex:10,position:"absolute",margin:0},bannerBottomText:{color:"white",fontSize:"1.2rem",fontFamily:"Spartan"},bannerImg:{objectFit:"contain",maxWidth:"100%",filter:"brightness(45%)"},bannerBottomRight:{bottom:"20px",right:"20px"},bannerWrapper:{position:"relative"},content:{padding:"15px 0"},tag:{color:"rgba(0, 0, 0, 0.54)"},metaDataRight:{fontSize:"1.1rem"},tagWrapper:{marginBottom:"9px"},dialogActions:{backgroundColor:"rgba(63, 81, 181, 0.04)",justifyContent:"space-between"},parent:{display:"flex"},fabProgress:{color:"black",position:"absolute",top:0,left:0,zIndex:1,marginRight:"auto",marginLeft:"auto"},btnWrapper:{position:"relative",marginRight:"1.5rem"}}})),Ae=r.a.forwardRef((function(e,t){return r.a.createElement(ye.a,Object.assign({direction:"up",ref:t},e))})),Fe=r.a.memo((function(e){var t=e.showDetails,a=e.setShowDetails,c=e.show,s=e.store,l=e.handleAddShow,i=e.handleRemoveShow,u=e.inUser,m=e.isArchived,p=c.id,d=c.title,f=c.images,g=c.seasons,E=c.length,h=c.notes,b=c.creation,v=c.genres,w=c.rating,x=c.episodes,j=c.description,O=Object(N.f)(),k=Te(),S=Object(Se.useArrowDarkButtonStyles)(),C=Te(),W=Object(n.useState)(!1),I=Object(o.a)(W,2),B=I[0],_=I[1],T=Object(n.useState)(m),A=Object(o.a)(T,2),M=A[0],L=A[1],V=function(){return a((function(e){return!e}))};Object(n.useEffect)((function(){_(!1)}),[u]);var q=function(){var e=Object(R.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.archiveShow(p,s.access_token);case 2:t=e.sent,console.log(t),200===t.status&&L(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(R.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.unarchiveShow(p,s.access_token);case 2:t=e.sent,console.log(t),200===t.status&&L(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,null,r.a.createElement(ie.a,{fonts:[{font:"Spartan",weights:[300]},{font:"Montserrat",weights:[200,400,700]}]})),r.a.createElement(D.a,{open:t,TransitionComponent:Ae,onClose:V,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",maxWidth:"md"},r.a.createElement("div",{className:k.bannerWrapper},r.a.createElement("h1",{className:"".concat(k.bannerTitle," ").concat(k.bannerItem)},d),r.a.createElement("span",{className:"".concat(k.bannerBottomLeft," ").concat(k.bannerItem," ").concat(k.bannerBottomText)},"Not\xe9 ",h.mean.toFixed(1)," sur 5"),r.a.createElement("span",{className:"".concat(k.bannerItem," ").concat(k.bannerBottomRight," ").concat(k.bannerBottomText)},b),r.a.createElement("img",{className:k.bannerImg,src:f.show,alt:"show-banner"})),r.a.createElement(z.a,null,r.a.createElement("div",{className:k.content},r.a.createElement(se.a,{container:!0,spacing:5,justify:"space-between"},r.a.createElement(se.a,{item:!0,xs:12,md:7},r.a.createElement("span",{className:k.tag},"Description"),r.a.createElement("p",{style:{color:"#333",fontSize:"1.2rem"}},j)),r.a.createElement(se.a,{item:!0,xs:12,md:4},r.a.createElement("div",{className:k.metaDataRight},r.a.createElement("div",{className:k.tagWrapper},r.a.createElement("span",{className:k.tag},"Rating: "),r.a.createElement("span",null," ",w)),r.a.createElement("div",{className:k.tagWrapper},r.a.createElement("span",{className:k.tag},"Nombre de saisons: "),r.a.createElement("span",null," ",g)),r.a.createElement("div",{className:k.tagWrapper},r.a.createElement("span",{className:k.tag},"Nombre total d'\xe9pisodes: "),r.a.createElement("span",null,x)),r.a.createElement("div",{className:k.tagWrapper},r.a.createElement("span",{className:k.tag},"Dur\xe9e d'un \xe9pisode: "),r.a.createElement("span",null," ",E," min")),r.a.createElement("div",{className:k.tagWrapper},r.a.createElement("span",{className:k.tag},"Genres: "),r.a.createElement("span",null," ",Object.values(v).join(", ")))))))),r.a.createElement(G.a,{className:k.dialogActions},r.a.createElement("div",{style:{transform:"scale(0.8)",transformOrigin:"0 50%",marginLeft:"10px"}},r.a.createElement(oe.a,{className:C.parent},r.a.createElement("div",{className:C.btnWrapper},s.user&&r.a.createElement(P.a,{classes:S,onClick:function(){B||(u?(_(!0),i()):(_(!0),l()))}},u?r.a.createElement(we.a,null):r.a.createElement(je.a,null)),B&&!u&&r.a.createElement(U.a,{size:"100%",className:C.fabProgress})),u&&(M?r.a.createElement("div",{className:C.btnWrapper},r.a.createElement(P.a,{classes:S,onClick:X},r.a.createElement(_e.a,null))):r.a.createElement("div",{className:C.btnWrapper},r.a.createElement(P.a,{classes:S,onClick:function(){M?X():q()}},r.a.createElement(We.a,null)))),r.a.createElement("div",{className:C.btnWrapper},r.a.createElement(P.a,{classes:S,onClick:function(){return O.push("/shows/".concat(p))}},r.a.createElement(Be.a,null))))),r.a.createElement("div",{style:{transform:"scale(0.7)"}},r.a.createElement(P.a,{classes:S,onClick:V},r.a.createElement(Ne.a,null))))))})),Re=Object(C.a)((function(){return{card:{borderRadius:"5px",boxShadow:"none",position:"relative",minWidth:200,minHeight:360,"&:after":{content:'""',display:"block",position:"absolute",width:"100%",height:"64%",bottom:0,zIndex:1,background:"linear-gradient(to top, #000, rgba(0,0,0,0))",transition:"height 0.2s ease-in"},"&:hover":{"&:after":{height:"300%",transition:"height 0.9s 0.1s ease-out"},"& $backImg":{transform:"scale(1.06)",transition:"transform 0.5s 0.1s"}}},content:{position:"absolute",zIndex:2,bottom:0,width:"91%"},buttonBox:{},backImg:{transition:"transform 0.4s"},middleBtn:{position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"}}})),De=r.a.memo((function(e){var t=e.show,a=e.isInUser,c=void 0!==a&&a,s=t.title,l=t.images.poster,i=t.seasons,u=t.id,m=t.user.archived,p=w(),d=Object(o.a)(p,2),f=d[0],g=(d[1],Object(Ee.useCoverCardMediaStyles)({bgPosition:"top"})),E=Object(be.useArrowWhiteButtonStyles)(),h=Object(N.f)(),b=Re(),v=Object(n.useState)(!1),x=Object(o.a)(v,2),j=x[0],O=x[1],k=Object(n.useState)(c),S=Object(o.a)(k,2),C=S[0],W=S[1],I=Object(n.useState)(!1),B=Object(o.a)(I,2),_=B[0],T=B[1],A=Object(n.useRef)(!1),D=Object(n.useCallback)(Object(R.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.addShowToUser(u,f.access_token);case 2:200===e.sent.status&&W(!0);case 4:case"end":return e.stop()}}),e)}))),[u,f.access_token]),M=Object(n.useCallback)(Object(R.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.removeShowToUser(u,f.access_token);case 2:200===e.sent.status&&W(!1);case 4:case"end":return e.stop()}}),e)}))),[u,f.access_token]);return Object(n.useEffect)((function(){!1===A.current&&(A.current=!0)}),[_]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,null,r.a.createElement(ie.a,{fonts:[{font:"Spartan",weights:[300]},{font:"Montserrat",weights:[200,400,700]}]})),A.current&&r.a.createElement(Fe,{showDetails:_,setShowDetails:T,show:t,store:f,inUser:C,isArchived:m,handleAddShow:D,handleRemoveShow:M}),r.a.createElement(me.a,{className:b.card,onMouseOver:function(){return O(!0)},onMouseLeave:function(){return O(!1)}},r.a.createElement(pe.a,{classes:g,className:b.backImg,image:l}),r.a.createElement(de.a,Object.assign({in:!j},j?{timeout:400}:{timeout:500}),r.a.createElement(oe.a,{py:3,px:2,className:b.content},r.a.createElement(fe.Info,{useStyles:ge.useGalaxyInfoStyles},r.a.createElement(fe.InfoTitle,null,s),r.a.createElement(fe.InfoCaption,null,i," saisons")))),r.a.createElement(de.a,Object.assign({in:j},j?{timeout:600}:{timeout:200}),r.a.createElement(oe.a,{py:1,px:1,className:"".concat(b.content," ").concat(b.buttonBox),style:{width:"96%",height:"96%"}},r.a.createElement(fe.Info,{useStyles:ge.useGalaxyInfoStyles},r.a.createElement(fe.InfoTitle,{style:{margin:"0.8rem 0 2rem"}},s)),r.a.createElement(P.a,{classes:E,className:b.middleBtn,onClick:function(){return h.push("/shows/".concat(u))}},r.a.createElement(Be.a,null)),r.a.createElement(ke,{store:f,handleAddShow:D,handleRemoveShow:M,setShowDetails:T,inUser:C})))))})),Me={limit:20,start:0},ze=Object(C.a)((function(e){return{card:{width:"250px"},center:{textAlign:"center"},textfield:{width:"100%",margin:"20px 0"}}}));function Le(){var e=ze(),t=Object(n.useState)(null),a=Object(o.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(!1),i=Object(o.a)(l,2),u=i[0],m=i[1],d=Object(n.useState)(""),f=Object(o.a)(d,2),g=f[0],E=f[1],h=Object(n.useState)(""),b=Object(o.a)(h,2),v=b[0],w=b[1],x=function(){var e=Object(R.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getAllShows(Me);case 2:200===(t=e.sent).status?(console.log(t),s(t.data.shows),m(!1)):console.log(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){x()}),[]),Object(n.useEffect)((function(){var e;return""!=v&&(e=setTimeout((function(){y.getAllShowsWith(Object(p.a)(Object(p.a)({},Me),{},{title:v})).then((function(e){E(e.data.shows)})).catch((function(e){console.log(e)})).finally((function(){m(!1)}))}),2e3)),function(){return clearTimeout(e)}}),[v]);var j=function(){Me.start=Me.start-20,x()},O=function(){Me.start=Me.start+20,x()};return r.a.createElement(ce.a,{className:e.container,maxWidth:"xl"},r.a.createElement(L.a,{label:"Rechercher une s\xe9rie",variant:"outlined",className:e.textfield,onChange:function(e){""===e.target.value?x():(w(e.target.value),m(!0))}}),u?r.a.createElement("h1",null,"Loading..."):""===v?r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{container:!0,spacing:4},c&&c.map((function(t){return r.a.createElement(se.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,key:t.id,className:e.card},r.a.createElement(De,{show:t}))}))),r.a.createElement(oe.a,{m:5,className:e.center},r.a.createElement(oe.a,{component:"span",m:1},r.a.createElement(P.a,{variant:"outlined",onClick:j},"Prev")),r.a.createElement(oe.a,{component:"span",m:1},r.a.createElement(P.a,{variant:"outlined",onClick:O},"Next")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{container:!0,spacing:4},g&&g.map((function(t){return r.a.createElement(se.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,key:t.id,className:e.card},r.a.createElement(De,{show:t}))}))),r.a.createElement(oe.a,{m:5,className:e.center},r.a.createElement(oe.a,{component:"span",m:1},r.a.createElement(P.a,{variant:"outlined",onClick:j},"Prev")),r.a.createElement(oe.a,{component:"span",m:1},r.a.createElement(P.a,{variant:"outlined",onClick:O},"Next")))))}var Ue=a(320),Ge=a(319),Ve=a(328),qe=a(316),Xe=a(318),He=a(326),Je=a(317),Ye=a(164),$e=a.n(Ye),Ke=Object(C.a)((function(e){return{root:{marginBottom:"1rem"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},divider:{margin:e.spacing(2,0)}}}));function Qe(e){var t=e.episode,a=e.store,c=e.inUser,s=e.getAllEpisodes,o=e.setEpisode,l=t.title,i=t.date,u=t.description,m=t.note,p=t.user,d=t.id,f=Ke(),g=Object(n.useMemo)((function(){var e;return new Date(i).toLocaleDateString(null===(e=a.user)||void 0===e?void 0:e.locale,{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),[i,a]),E=function(){var e=Object(R.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),p.seen){e.next=7;break}return e.next=4,y.addEpisodeWatched(d,a.access_token);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,y.removeEpisodeWatched(d,a.access_token);case 9:e.t0=e.sent;case 10:200===e.t0.status&&s();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(R.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.addEpisodeWatched(d,a.access_token,!1);case 2:200===e.sent.status&&s();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:f.root},r.a.createElement(Ve.a,{variant:"outlined"},r.a.createElement(qe.a,{expandIcon:r.a.createElement($e.a,null),"aria-label":"Expand","aria-controls":"additional-actions1-content",id:"additional-actions1-header"},a.user&&c&&r.a.createElement(Je.a,{"aria-label":"Seen",onClick:E,onFocus:function(e){return e.stopPropagation()},control:r.a.createElement(He.a,{checked:p.seen})}),r.a.createElement("div",null,r.a.createElement(B.a,{variant:"h6",component:"h5"},l),r.a.createElement(B.a,{color:"textSecondary"},g))),r.a.createElement(Xe.a,null,r.a.createElement("div",null,r.a.createElement(B.a,{color:"textSecondary"},u),r.a.createElement(Ge.a,{className:f.divider}),r.a.createElement(se.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement("h3",null,"Note: ",m.mean.toFixed(1)," / 5"),a.user&&c&&r.a.createElement("div",null,!p.seen&&r.a.createElement(P.a,{style:{marginRight:"1rem"},variant:"contained",disableElevation:!0,onClick:h},"Marquer uniquement cet \xe9pisode"),r.a.createElement(P.a,{variant:"contained",disableElevation:!0,onClick:function(){return o(t)}},"Commentaires"))))))))}function Ze(e){var t=e.setEpisode,a=e.episode,c=e.store,s=Object(n.useState)(null),l=Object(o.a)(s,2),i=l[0],u=l[1],m=Object(n.useState)(""),p=Object(o.a)(m,2),d=p[0],f=p[1],g=function(){var e=Object(R.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getEpisodeComments(a.id,c.access_token);case 2:200===(t=e.sent).status&&u(t.data.comments),console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(R.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,y.commentEpisode(a.id,d,c.access_token);case 3:n=e.sent,console.log(n),200===n.status&&g();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){g()}),[]);var h=Object(n.useCallback)((function(e){var t;return new Date(e).toLocaleDateString(null===(t=c.user)||void 0===t?void 0:t.locale,{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),[c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{id:"alert-dialog-title"},"Commentaires"),r.a.createElement(z.a,null,i?i.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("h3",{style:{margin:"0 0 20px 0"}},e.login),r.a.createElement("span",null," - Post\xe9 le ",h(e.date))),r.a.createElement("p",null,e.text),r.a.createElement(Ge.a,{style:{margin:"20px"}}))})):r.a.createElement("h1",null,"Pas de commentaires"),r.a.createElement("form",{style:{padding:"0px 20px",marginTop:"4rem"}},r.a.createElement(L.a,{margin:"dense",id:"comment",label:"Commenter",type:"text",fullWidth:!0,multiline:!0,onChange:function(e){f(e.target.value)}}),r.a.createElement("div",null,r.a.createElement(P.a,{type:"submit",onClick:E,variant:"contained",color:"primary",style:{margin:"35px auto 10px auto",display:"block"}},"Envoyer")))),r.a.createElement(G.a,null,r.a.createElement(P.a,{onClick:function(){t(!1)},color:"primary",autoFocus:!0},"Fermer")))}var et=Object(C.a)({media:{height:360,position:"relative","&:after":{content:'""',display:"block",position:"absolute",width:"100%",height:"64%",bottom:0,zIndex:1,background:"linear-gradient(to top, #000, rgba(0,0,0,0))"}},tag:{color:"rgba(0, 0, 0, 0.54)"},metaDataRight:{fontSize:"1.1rem"},tagWrapper:{marginBottom:"9px"},bannerWrapper:{position:"relative"},parent:{display:"flex",position:"absolute",zIndex:30,bottom:"10px",right:"10px",transform:"scale(0.8)"},fabProgress:{color:"white",position:"absolute",top:0,left:0,zIndex:1,marginRight:"auto",marginLeft:"auto"},btnWrapper:{position:"relative",marginLeft:"1.3rem"},title:{position:"absolute",bottom:"10px",left:"20px",color:"white",zIndex:30}}),tt=r.a.forwardRef((function(e,t){return r.a.createElement(ye.a,Object.assign({direction:"up",ref:t},e))}));function at(){var e=Object(N.h)("/shows/:id").params.id,t=et(),a=Object(be.useArrowWhiteButtonStyles)(),c=w(),s=Object(o.a)(c,2),l=s[0],i=(s[1],Object(n.useState)(null)),u=Object(o.a)(i,2),m=u[0],p=u[1],d=Object(n.useState)(null),f=Object(o.a)(d,2),g=f[0],E=f[1],h=Object(n.useState)(!1),b=Object(o.a)(h,2),v=b[0],x=b[1],j=Object(n.useState)(!1),O=Object(o.a)(j,2),k=O[0],S=O[1],C=Object(n.useState)(!1),W=Object(o.a)(C,2),I=W[0],_=W[1],T=Object(n.useState)(!1),A=Object(o.a)(T,2),M=A[0],z=A[1],L=function(){var e=Object(R.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.archiveShow(m.id,l.access_token);case 2:t=e.sent,console.log(t),200===t.status&&S(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(R.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.unarchiveShow(m.id,l.access_token);case 2:t=e.sent,console.log(t),200===t.status&&S(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(R.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.addShowToUser(m.id,l.access_token);case 2:200===e.sent.status&&_(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(R.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.removeShowToUser(m.id,l.access_token);case 2:200===e.sent.status&&_(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var t=Object(R.a)(F.a.mark((function t(){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.getShowEpisodes(e,l.access_token);case 2:a=t.sent,console.log("episodes"),console.log(l.access_token),console.log(a),200===a.status&&E(a.data.episodes);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){l.user_loading||(Object(R.a)(F.a.mark((function t(){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.getShowDetails(e,l.access_token);case 2:200===(a=t.sent).status&&(p(a.data.show),_(a.data.show.in_account),S(a.data.show.user.archived));case 4:case"end":return t.stop()}}),t)})))(),X())}),[l.user_loading,l.user]),Object(n.useEffect)((function(){x(!1)}),[I]),r.a.createElement(r.a.Fragment,null,m&&g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{maxWidth:"md"},r.a.createElement(se.a,{container:!0,spacing:3},r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(me.a,null,r.a.createElement(pe.a,{className:t.media,image:m.images.show},r.a.createElement(oe.a,{className:t.parent},r.a.createElement("div",{className:t.btnWrapper},l.user&&r.a.createElement(P.a,{classes:a,onClick:function(){v||(I?(x(!0),q()):(x(!0),V()))}},I?r.a.createElement(we.a,null):r.a.createElement(je.a,null)),v&&!I&&r.a.createElement(U.a,{size:"100%",className:t.fabProgress})),I&&(k?r.a.createElement("div",{className:t.btnWrapper},r.a.createElement(P.a,{classes:a,onClick:G},r.a.createElement(_e.a,null))):r.a.createElement("div",{className:t.btnWrapper},r.a.createElement(P.a,{classes:a,onClick:function(){k?G():L()}},r.a.createElement(We.a,null))))),r.a.createElement(B.a,{className:t.title,gutterBottom:!0,variant:"h4",component:"h4"},m.title)),r.a.createElement(Ue.a,null,r.a.createElement(se.a,{container:!0,spacing:5,justify:"space-between"},r.a.createElement(se.a,{item:!0,xs:12,md:7},r.a.createElement("p",{style:{color:"#333",fontSize:"1.2rem",marginTop:"0px"}},m.description)),r.a.createElement(se.a,{item:!0,xs:12,md:4},r.a.createElement("div",{className:t.metaDataRight},r.a.createElement("div",{className:t.tagWrapper},r.a.createElement("span",{className:t.tag},"Note: "),r.a.createElement("span",null," ",m.notes.mean.toFixed(1)," / 5")),r.a.createElement("div",{className:t.tagWrapper},r.a.createElement("span",{className:t.tag},"Rating: "),r.a.createElement("span",null," ",m.rating)),r.a.createElement("div",{className:t.tagWrapper},r.a.createElement("span",{className:t.tag},"Nombre de saisons: "),r.a.createElement("span",null," ",m.seasons)),r.a.createElement("div",{className:t.tagWrapper},r.a.createElement("span",{className:t.tag},"Nombre total d'\xe9pisodes: "),r.a.createElement("span",null,m.episodes)),r.a.createElement("div",{className:t.tagWrapper},r.a.createElement("span",{className:t.tag},"Dur\xe9e d'un \xe9pisode: "),r.a.createElement("span",null," ",m.length," min")),r.a.createElement("div",{className:t.tagWrapper},r.a.createElement("span",{className:t.tag},"Genres: "),r.a.createElement("span",null," ",Object.values(m.genres).join(", "))))))))),r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(me.a,null,r.a.createElement(Ue.a,null,r.a.createElement("h1",{style:{textAlign:"center"}},"Episodes"),g.map((function(e){return 1===e.episode?r.a.createElement("div",{key:e.id},r.a.createElement("h1",{style:{margin:"40px 0 20px"}},"Saison ",e.season),r.a.createElement(Qe,{setEpisode:z,episode:e,store:l,inUser:I,getAllEpisodes:X})):r.a.createElement("div",{key:e.id},r.a.createElement(Qe,{setEpisode:z,episode:e,store:l,inUser:I,getAllEpisodes:X}))}))))))),r.a.createElement(D.a,{open:!!M,TransitionComponent:tt,onClose:function(){return z((function(e){return!e}))},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",maxWidth:"md",fullWidth:!0},r.a.createElement(Ze,{setEpisode:z,episode:M,store:l}))))}var nt=a(114),rt=a(323),ct=a(321),st=a(322),ot=(a(159),a(250),Object(C.a)((function(e){return{container:{overflowX:"hidden",marginBottom:e.spacing(10)},title:{marginBottom:"15px",fontWeight:100},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},slideCard:{padding:"12px"}}}))),lt={slidesPerView:1,pagination:{el:".swiper-pagination",clickable:!0},spaceBetween:10,initialSlide:0,resistanceRatio:0,threshold:40,longSwipesRatio:.1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{600:{slidesPerView:2,spaceBetween:24,slidesPerGroup:2},960:{slidesPerView:3,spaceBetween:24,slidesPerGroup:3},1280:{slidesPerView:4,spaceBetween:24,slidesPerGroup:4},1600:{slidesPerView:6,spaceBetween:24,slidesPerGroup:6}}};function it(){var e=w(),t=Object(o.a)(e,2),a=t[0],c=(t[1],ot()),s=Object(n.useState)([]),l=Object(o.a)(s,2),i=l[0],u=l[1],m=Object(n.useRef)(),p=Object(n.useRef)();return Object(n.useEffect)((function(){rt.a.use([ct.a,st.a]),m.current=new rt.a(".swiper1",lt),p.current=new rt.a(".swiper2",lt)}),[]),Object(n.useEffect)((function(){a.user_loading||Object(R.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getShowsToDiscover(a.access_token);case 2:200===(t=e.sent).status&&(u(t.data.shows),m.current.update());case 4:case"end":return e.stop()}}),e)})))()}),[a.user_loading,a.user]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{className:c.container,maxWidth:"xl"},r.a.createElement(B.a,{className:c.title,variant:"h4",align:"left"},"S\xe9ries \xe0 d\xe9couvrir"),r.a.createElement("div",{className:"swiper-container swiper1"},r.a.createElement("div",{className:"swiper-wrapper"},i.length>0?i.map((function(e){return r.a.createElement("div",{key:e.id,className:"swiper-slide"},r.a.createElement(De,{show:e}))})):Object(nt.a)(Array(6)).map((function(e,t){return r.a.createElement("div",{key:t,className:"swiper-slide"},r.a.createElement(T.a,{variant:"rect",width:"100%",height:"360px"}))}))),r.a.createElement("div",{className:"swiper-pagination"}),r.a.createElement("div",{className:"swiper-button-next"}),r.a.createElement("div",{className:"swiper-button-prev"}))))}var ut=a(168),mt=Object(C.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},upperCase:{textTransform:"upperCase"},large:{width:"100%",height:"100%"},timeP:{fontSize:"12px"},mt38:{marginTop:"38px"},mt18:{marginTop:"18px"},suivis:{width:"50%",float:"left"}}}));function pt(){var e=mt(),t=g.getToken(),a=w(),c=Object(o.a)(a,2),s=c[0],l=(c[1],Object(n.useState)(null)),i=Object(o.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(!0),d=Object(o.a)(p,2),f=d[0],E=d[1],h=Object(n.useState)(null),b=Object(o.a)(h,2),v=b[0],x=b[1],j=Object(n.useState)(null),O=Object(o.a)(j,2),k=O[0],C=O[1],W=Object(N.h)("/profil/:id").params.id,I=Object(N.g)().pathname;function B(){y.friendListBlocked(t,!0).then((function(e){x(e.data.users)})).catch((function(e){console.log(e)}))}function T(e){var t=Math.floor(e/60),a=e%60;if(t>24){for(var n=0;t>24;)t-=24,n+=1;return"".concat(n," jours ").concat(t," heures et ").concat(a," minutes")}return"".concat(t," heures et ").concat(a," minutes")}Object(n.useEffect)((function(){y.getUserInfoById(W).then((function(e){m(e.data.member)})).catch((function(e){console.log(e)})),E(!0),y.friendList(W,t).then((function(e){C(e.data.users)})).catch((function(e){console.log(e)}))}),[W]),Object(n.useEffect)((function(){s.user&&(y.friendList(s.user.id,t).then((function(e){void 0!==e.data.users.find((function(e){return e.id==W}))&&E(!1)})).catch((function(e){console.log(e)})),B())}),[s]);return r.a.createElement(r.a.Fragment,null,null!=u&&r.a.createElement(ce.a,{maxWidth:"lg"},r.a.createElement(se.a,{container:!0,spacing:4},r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(ut.a,{className:e.paper},"Resum\xe9 de ",r.a.createElement("span",{className:e.upperCase},u.login),s.user&&s.user.id!==u.id&&(f?v&&u.id&&v.find((function(e){return e.id===u.id}))?r.a.createElement(P.a,{variant:"contained",color:"primary",onClick:function(){y.deblockFriend(u.id,t).then((function(e){B()})).catch((function(e){console.log(e)}))}},"D\xe9bloquer"):r.a.createElement(P.a,{variant:"contained",color:"primary",onClick:function(){y.addFriend(u.id,t).then((function(e){E(!1)})).catch((function(e){console.log(e)}))}},"Suivre"):r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{variant:"contained",onClick:function(){y.blockFriend(u.id,t).then((function(e){B(),E(!0)})).catch((function(e){console.log(e)}))}},"Bloquer"),r.a.createElement(P.a,{variant:"contained",color:"secondary",onClick:function(){y.deleteFriend(u.id,t).then((function(e){E(!0)})).catch((function(e){console.log(e)}))}},"Supprimer"))))),r.a.createElement(se.a,{item:!0,xs:2},r.a.createElement(ut.a,{className:e.paper},r.a.createElement(_.a,{variant:"rounded",alt:"profile-pic",src:u.avatar,className:e.large}))),r.a.createElement(se.a,{item:!0,xs:2},r.a.createElement(ut.a,{className:e.paper},r.a.createElement("span",null,u.stats.episodes,r.a.createElement("br",null),"\xc9PISODE")),r.a.createElement(ut.a,{className:"".concat(e.paper," ").concat(e.mt38)},r.a.createElement("span",null,u.stats.shows,r.a.createElement("br",null),"S\xc9RIES"))),r.a.createElement(se.a,{item:!0,xs:2},r.a.createElement(ut.a,{className:e.paper},r.a.createElement("span",null,u.xp,r.a.createElement("br",null),"XP")),r.a.createElement(ut.a,{className:"".concat(e.paper," ").concat(e.mt38)},r.a.createElement("span",null,u.stats.badges,r.a.createElement("br",null),"BADGES"))),r.a.createElement(se.a,{item:!0,xs:6},r.a.createElement(ut.a,{className:e.paper},r.a.createElement("span",null,"Temps pass\xe9 devant la t\xe9l\xe9:"),r.a.createElement("br",null),r.a.createElement("span",null,T(u.stats.time_on_tv)),r.a.createElement("br",null),r.a.createElement("span",{className:e.timeP},"Encore ",T(u.stats.time_to_spend))),r.a.createElement(ut.a,{className:"".concat(e.paper," ").concat(e.mt18)},r.a.createElement("span",null,k&&k.length,r.a.createElement("br",null),r.a.createElement(S.b,{to:"".concat(I,"/friends")},"SUIVIS")))),s.user&&s.user.id===u.id&&r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(ut.a,{className:e.paper},r.a.createElement("span",null,"Personnes Bloquer:",r.a.createElement("br",null),v&&v.length>0?v.map((function(t){return r.a.createElement(ut.a,{key:t.id,className:"".concat(e.paper," ").concat(e.mt18)},r.a.createElement(S.b,{to:"/profil/".concat(t.id)},r.a.createElement("p",null,t.login)))})):r.a.createElement(ut.a,{className:"".concat(e.paper," ").concat(e.mt18)},r.a.createElement("p",null,"Aucun amis bloqu\xe9 pour le moment !"))))))))}var dt=a(325),ft=Object(C.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},upperCase:{textTransform:"upperCase"},large:{width:"100%",height:"100%"},timeP:{fontSize:"12px"},mt38:{marginTop:"38px"},mt18:{marginTop:"18px"},textLeft:{textAlign:"left"},floatRight:{float:"right"}}}));function gt(){var e=Object(N.f)(),t=ft(),a=g.getToken(),c=Object(n.useState)([]),s=Object(o.a)(c,2),l=s[0],i=s[1],u=Object(n.useState)(l[0]),m=Object(o.a)(u,2),d=m[0],f=m[1],E=Object(n.useState)(null),h=Object(o.a)(E,2),b=h[0],v=h[1],w=Object(n.useState)(null),x=Object(o.a)(w,2),j=x[0],O=x[1],k=Object(n.useState)(!1),C=Object(o.a)(k,2),W=C[0],I=C[1],B=Object(n.useState)(""),P=Object(o.a)(B,2),_=P[0],T=P[1],A=W&&0===l.length,F=Object(N.h)("/profil/:id/friends").params.id,R=function(e){T(e.target.value)};return Object(n.useEffect)((function(){y.getUserInfoById(F).then((function(e){v(e.data.member)})).catch((function(e){console.log(e)})),y.friendList(F,a).then((function(e){O(e.data.users)})).catch((function(e){console.log(e)})),y.friendsReceived(a).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}),[F,a]),Object(n.useEffect)((function(){_.length>=2&&y.findMembers(_+"%").then((function(e){i(e.data.users)})).catch((function(e){console.log(e)}))}),[A,_]),Object(n.useEffect)((function(){d&&e.push("/profil/".concat(d.id))}),[d]),r.a.createElement(r.a.Fragment,null,null!==b&&r.a.createElement(ce.a,{maxWidth:"lg"},r.a.createElement(se.a,{container:!0,spacing:4},r.a.createElement(se.a,{item:!0,xs:12},r.a.createElement(ut.a,{className:t.paper},"Membres suivis par ",r.a.createElement("span",{className:t.upperCase},b.login))),r.a.createElement(se.a,{item:!0,xs:3},r.a.createElement(dt.a,{value:d,onChange:function(e,t){f(t)},style:{width:"100%"},open:W,onOpen:function(){I(!0)},onClose:function(){I(!1)},getOptionLabel:function(e){return e.login},options:l,loading:A,renderInput:function(e){return r.a.createElement(L.a,Object.assign({},e,{label:"Recherche",variant:"outlined",InputProps:Object(p.a)(Object(p.a)({},e.InputProps),{},{endAdornment:r.a.createElement(n.Fragment,null,A?r.a.createElement(U.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}),onChange:R}))}})),r.a.createElement(se.a,{item:!0,xs:9},r.a.createElement(ut.a,{className:t.paper},r.a.createElement("p",{className:t.textLeft},r.a.createElement("span",null,"N\xb0: ",r.a.createElement("span",{className:t.upperCase},b.stats.friends))),j&&j.map((function(e){return r.a.createElement(S.b,{to:"/profil/".concat(e.id),key:e.id},r.a.createElement("p",null,e.login))})))))))}a(251);var Et=Object(C.a)((function(e){return{container:{overflowX:"hidden",marginBottom:e.spacing(10)},title:{marginBottom:"15px",fontWeight:100},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},slideCard:{padding:"12px"}}})),ht={slidesPerView:1,pagination:{el:".swiper-pagination",clickable:!0},spaceBetween:10,initialSlide:0,resistanceRatio:0,threshold:40,longSwipesRatio:.1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{600:{slidesPerView:2,spaceBetween:24,slidesPerGroup:2},960:{slidesPerView:3,spaceBetween:24,slidesPerGroup:3},1280:{slidesPerView:4,spaceBetween:24,slidesPerGroup:4},1600:{slidesPerView:6,spaceBetween:24,slidesPerGroup:6}}};function bt(){var e=w(),t=Object(o.a)(e,2),a=t[0],c=(t[1],Et()),s=Object(n.useState)([]),l=Object(o.a)(s,2),i=l[0],u=l[1],m=Object(n.useRef)(),p=Object(n.useRef)();return Object(n.useEffect)((function(){rt.a.use([ct.a,st.a]),m.current=new rt.a(".swiper1",ht),p.current=new rt.a(".swiper2",ht)}),[]),Object(n.useEffect)((function(){!a.user_loading&&a.user&&Object(R.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getMemberShows(a.access_token);case 2:t=e.sent,console.log(t),200===t.status&&(console.log(t.data),u(t.data.shows),m.current.update());case 5:case"end":return e.stop()}}),e)})))()}),[a.user_loading,a.user]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{className:c.container,maxWidth:"xl"},r.a.createElement(B.a,{className:c.title,variant:"h4",align:"left"},"Mes s\xe9ries"),r.a.createElement("div",{className:"swiper-container swiper1"},r.a.createElement("div",{className:"swiper-wrapper"},i.length>0?i.map((function(e){return r.a.createElement("div",{key:e.id,className:"swiper-slide"},r.a.createElement(De,{show:e,isInUser:!0}))})):Object(nt.a)(Array(6)).map((function(e,t){return r.a.createElement("div",{key:t,className:"swiper-slide"},r.a.createElement(T.a,{variant:"rect",width:"100%",height:"360px"}))}))),r.a.createElement("div",{className:"swiper-pagination"}),r.a.createElement("div",{className:"swiper-button-next"}),r.a.createElement("div",{className:"swiper-button-prev"}))))}var vt=function(){var e=w(),t=Object(o.a)(e,2),a=(t[0],t[1]);return Object(n.useEffect)((function(){var e=g.getToken();e?y.getUserInfo(e).then((function(t){var n=t.data.member,r=n.login,c=n.avatar,s=n.locale,o=n.id;a({type:l,payload:{login:r,access_token:e,avatar:c,locale:s,id:o}})})).catch((function(){return a({type:m})})):a({type:m})}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(S.a,{basename:"/PreviouslyOn"},r.a.createElement("header",{className:"App-header"},r.a.createElement(ne,null)),r.a.createElement(N.c,null,r.a.createElement(N.a,{exact:!0,path:"/",component:it}),r.a.createElement(N.a,{exact:!0,path:"/shows",component:Le}),r.a.createElement(N.a,{exact:!0,path:"/shows/:id",component:at}),r.a.createElement(N.a,{exact:!0,path:"/movies",component:re}),r.a.createElement(N.a,{exact:!0,path:"/list/:id",component:bt}),r.a.createElement(N.a,{exact:!0,path:"/profil/:id",component:pt}),r.a.createElement(N.a,{exact:!0,path:"/profil/:id/friends",component:gt}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null,r.a.createElement(vt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[182,1,2]]]);
//# sourceMappingURL=main.de1d83e7.chunk.js.map